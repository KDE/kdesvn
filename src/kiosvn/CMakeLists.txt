INCLUDE_DIRECTORIES(${CMAKE_BINARY_DIR}/src/svnqt)
SET(kiosvn_src kiosvn.cpp kiolistener.cpp kiobytestream.cpp)

KDE3_ADD_KPART(kio_ksvn ${kiosvn_src})

TARGET_LINK_LIBRARIES(kio_ksvn
    svnqt
    kdesvnhelpers
    ${QT_AND_KDECORE_LIBS}
    ${KDE3_UI_LIBRARY} ${KDE3_DCOP_LIBRARY} ${KDE3_KIO_LIBRARY})

SET_TARGET_PROPERTIES(kio_ksvn
    PROPERTIES
    LINK_FLAG "${LINK_NO_UNDEFINED}")

INSTALL(TARGETS kio_ksvn
    LIBRARY DESTINATION ${PLUGIN_INSTALL_DIR})

FILE(GLOB PROTFILES *.protocol)

INSTALL(FILES ${PROTFILES}
    DESTINATION ${SERVICES_INSTALL_DIR})
